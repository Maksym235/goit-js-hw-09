{"mappings":"CAAa,CACXA,KAAMC,SAASC,cAAc,WAG1BF,KAAKG,iBAAiB,UAiB3B,SAAkBC,GAChBA,EAAIC,iBACJ,MACEC,UAAYC,MAAAC,EAAKC,KAAEA,EAAIC,OAAEA,IACvBN,EAAIO,cAERC,EAAaC,OAAOL,EAAMM,OAC1BC,EAAYF,OAAOJ,EAAKK,OACxBE,EAAcH,OAAOH,EAAOI,OAE5B,IAAK,IAAIG,EAAI,EAAGA,GAAKD,EAAaC,IAChCC,EAAcD,EAAGD,GACdG,MAAK,EAACC,SAAEA,EAAQb,MAAEA,MACjBc,MAAM,wBAAsBD,QAAiBb,MAAU,IAExDe,OAAM,EAACF,SAAEA,EAAQb,MAAEA,MAClBc,MAAM,uBAAqBD,QAAeb,MAAU,IAGxDS,GAAeD,EAEfX,EAAIO,cAAcY,O,IArCtB,IAAIX,EAAa,KACbG,EAAY,KACZC,EAAc,KAElB,SAASE,EAAcE,EAAUb,GAC/B,OAAO,IAAIiB,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACaC,KAAKC,SAAW,IAEpCJ,EAAQ,C,SAAEL,E,MAAUb,IAEtBmB,EAAO,C,SAAEN,E,MAAUb,GAAQ,GAC1BA,EAAM,G","sources":["src/js/03-promises.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.form'),\n};\n\nrefs.form.addEventListener('submit', onSubmit);\nlet firstDelay = null;\nlet delayStep = null;\nlet delayAmount = null;\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({ position, delay });\n      }\n      reject({ position, delay });\n    }, delay);\n  });\n}\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  const {\n    elements: { delay, step, amount },\n  } = evt.currentTarget;\n\n  firstDelay = Number(delay.value);\n  delayStep = Number(step.value);\n  delayAmount = Number(amount.value);\n\n  for (let i = 1; i <= delayAmount; i++) {\n    createPromise(i, delayAmount)\n      .then(({ position, delay }) => {\n        alert(`✅  Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        alert(`❌  Rejected promise ${position} in ${delay}ms`);\n      });\n\n    delayAmount += delayStep;\n\n    evt.currentTarget.reset();\n  }\n}\n"],"names":["form","document","querySelector","addEventListener","evt","preventDefault","elements","delay","delay1","step","amount","currentTarget","$47d4ff9957288465$var$firstDelay","Number","value","$47d4ff9957288465$var$delayStep","$47d4ff9957288465$var$delayAmount","i","$47d4ff9957288465$var$createPromise","then","position","alert","catch","reset","Promise","resolve","reject","setTimeout","Math","random"],"version":3,"file":"03-promises.2b20b0b1.js.map"}