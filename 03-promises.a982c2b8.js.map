{"mappings":"aAAa,CACXA,KAAMC,SAASC,cAAc,WAG1BF,KAAKG,iBAAiB,UAiB3B,SAAkBC,GAChBA,EAAIC,iBACJ,IAEqBC,EAAjBF,EAAIG,cADNC,SAAYC,EAAKH,EAALI,MAAOC,EAAIL,EAAJK,KAAMC,EAAMN,EAANM,OAGdC,OAAOJ,EAAMK,OAC1BC,EAAYF,OAAOF,EAAKG,OACxBE,EAAcH,OAAOD,EAAOE,OAE5B,IAAK,IAAIG,EAAI,EAAGA,GAAKD,EAAaC,IAChCC,EAAcD,EAAGD,GACdG,MAAK,SAAAC,G,IAAGC,EAAQD,EAARC,SAAUX,EAAKU,EAALV,MACjBY,MAAM,wBAAyCC,OAAfF,EAAS,QAAYE,OAANb,EAAM,M,IAEtDc,OAAM,SAAAJ,G,IAAGC,EAAQD,EAARC,SAAUX,EAAKU,EAALV,MAClBY,MAAM,uBAAsCC,OAAfF,EAAS,QAAYE,OAANb,EAAM,M,IAGtDM,GAAeD,EAEfX,EAAIG,cAAckB,O,IArCtB,IACIV,EAAY,KACZC,EAAc,KAElB,SAASE,EAAcG,EAAUX,GAC/B,OAAO,IAAIgB,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACaC,KAAKC,SAAW,IAEpCJ,EAAQ,CAAEN,WAAUX,UAEtBkB,EAAO,CAAEP,WAAUX,S,GAClBA,E","sources":["src/js/03-promises.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.form'),\n};\n\nrefs.form.addEventListener('submit', onSubmit);\nlet firstDelay = null;\nlet delayStep = null;\nlet delayAmount = null;\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve({ position, delay });\n      }\n      reject({ position, delay });\n    }, delay);\n  });\n}\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  const {\n    elements: { delay, step, amount },\n  } = evt.currentTarget;\n\n  firstDelay = Number(delay.value);\n  delayStep = Number(step.value);\n  delayAmount = Number(amount.value);\n\n  for (let i = 1; i <= delayAmount; i++) {\n    createPromise(i, delayAmount)\n      .then(({ position, delay }) => {\n        alert(`✅  Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        alert(`❌  Rejected promise ${position} in ${delay}ms`);\n      });\n\n    delayAmount += delayStep;\n\n    evt.currentTarget.reset();\n  }\n}\n"],"names":["form","document","querySelector","addEventListener","evt","preventDefault","_elements","currentTarget","elements","delay1","delay","step","amount","Number","value","$ce04d3a99e08e73b$var$delayStep","$ce04d3a99e08e73b$var$delayAmount","i","$ce04d3a99e08e73b$var$createPromise","then","param","position","alert","concat","catch","reset","Promise","resolve","reject","setTimeout","Math","random"],"version":3,"file":"03-promises.a982c2b8.js.map"}